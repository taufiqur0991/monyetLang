// --- 1. VARIABEL & OPERASI MATEMATIKA ---
$a = 20;
$b = $a * 2 + 5;
echo "Hasil matematika (20 * 2 + 5): " + $b;

// --- 2. MANIPULASI STRING ---
$name = "monyet";
echo "Pesan selamat datang: Hello " + $name;

// --- 3. LOGIKA PERCABANGAN (IF-ELSE) ---
$a = 10;
if ($a > 5) {
    echo "Status angka $a: Besar";
}

// --- 4. FUNGSI USER-DEFINED ---
function add(a, b) {
    return a + b;
}
echo "Hasil fungsi add(14, 5): " + add(14, 5);
$hasil = 0.5 + 0.5;
echo $hasil;

function cekAngka(n) {
    echo "Pengecekan angka " + $n + ":";
    if ($n > 10) {
        echo " -> Angka besar";
    } else {
        echo " -> Angka kecil";
    }
}
cekAngka(15);
cekAngka(8);

// --- 5. MODULARITAS (INCLUDE) ---
// Pastikan file "include.nyet" ada di folder yang sama
include "include.nyet"; 
$total = hitungPajak(10000);
echo "Total harga setelah pajak: " + $total;

// --- 6. MANIPULASI DATA JSON ---
$user_data = [
    "nama"     => "Budi",
    "umur"     => 25,
    "is_admin" => 1 == 1
];

$encoded = json_encode($user_data);
echo "Hasil JSON Encode: " + $encoded;

$decoded = json_decode($encoded);
echo "Hasil JSON Decode (Nama): " + $decoded["nama"];

// --- 7. DATABASE OPERATIONS ---
$DB_NAME = "project_test.db"; // Menentukan nama file database kustom
echo "Menggunakan database: " + $DB_NAME;

$profil_baru = ["nama" => "Budiman", "skor" => 100];

// Simpan ke Database
set_data("user_01", json_encode($profil_baru)); 
echo "Data user_01 berhasil disimpan.";

// Ambil dari Database
$raw_data = get_data("user_01");
$profil_db = json_decode($raw_data);

echo "Data dari DB - Nama: " + $profil_db["nama"];
echo "Data dari DB - Skor: " + $profil_db["skor"];

// Hapus Data (Opsional)
// delete_data("user_01");
// drop_db(); // Hapus file project_test.db secara fisik

// 1. Persiapan Data (Map/Object)
$order = [
    "id" => "TRX-001",
    "pembeli" => "Budi Monyet",
    "item" => "Pisang Goreng",
    "total" => 15000,
    "status" => "Lunas"
];

// 2. Simpan ke Database
// Di eval.go kamu, set_data otomatis melakukan json.Marshal jika inputnya map
set_data("order_terakhir", $order);

echo "--- Data berhasil disimpan ---";

// 3. Ambil kembali dari Database
$raw = get_data("order_terakhir");
echo "Data mentah dari DB: " + $raw;

// 4. Decode kembali menjadi Object agar bisa di-loop
$order_obj = json_decode($raw);

echo "--- Memulai Iterasi Detail Pesanan ---";

// 5. Loop menggunakan foreach yang tadi kita buat
foreach ($order_obj as $key => $value) {
    echo "Properti: " + $key + " | Nilai: " + $value;
}

echo "--- Selesai ---";
echo "--- EDIT save database ---";
$data = json_decode(get_data("order_terakhir"));
$data["total"] = 17000;
$data["item"] = "Pisang Goreng Kremes";
set_data("order_terakhir", $data);
echo "--- Data berhasil diperbarui! ---";
$raw = get_data("order_terakhir");
$order_obj = json_decode($raw);

echo "--- Memulai Iterasi Detail Pesanan ---";

// 5. Loop menggunakan foreach yang tadi kita buat
foreach ($order_obj as $key => $value) {
    echo "Properti: " + $key + " | Nilai: " + $value;
}